---
title: 困难
---

## 你知道requestAnimationFrame函数嘛，日常开发中有什么作用？

<Answer>

1. 你希望执行一个动画，并且要求浏览器在下次重绘之前调用指定的回调函数更新动画。该方法需要传入一个回调函数作为参数，该回调函数会在浏览器下一次重绘之前执行
2. 可以用来减少重绘和替代定时器以及保证动画的流畅性

</Answer>

## 浏览器放大到 150% 是做了什么操作？

<Answer></Answer>

## css 如何优化性能？

<Answer>

1. 加载性能
   - 主要是从减少文件体积，减少阻塞加载，提高并发方面入手
   - css压缩、css单一样式`margin-left: 1px;`
   - 减少使用 @import, 而建议使用link, 因为后者在页面加载时一起加载，前者是等待页面加载完成之后再进行加载；
   - 合理设计CSS 布局，注意复用样式，减少渲染上花的时间
2. 选择器性能
   - 避免用通配符 *
   - 减少标签选择，用class
   - 不要去用标签限定ID或者类选择符，不要`div#id`最好写成`#id`
   - 少使用后代选择器，降低选择器权重值
   - 考虑继承（可以少写css代码）
3. 渲染性能
   - 慎重使用高性能属性：浮动、定位
   - 量减少页面重排、重绘
   - css雪碧图
   - 将css文件放在页面最上面
4. 可维护性、健壮性
   - 重复度高样式抽离
   - 样式与内容分离

</Answer>


## 浏览器是怎样解析CSS选择器的？

<Answer>

1. 浏览器从右往左（也称为自底向上）解析 CSS 选择器，这样的匹配节点的方式可以快速、准确的与 render 树上的节点进行匹配，避免了许多无效匹配

</Answer>

## css加载会造成阻塞吗？

<Answer>

1. css加载不会阻塞DOM树的解析
2. css加载会阻塞DOM树的渲染
3. css加载会阻塞后面js语句的执行

```text
解析过程：HTML解析文件，生成 DOM Tree，解析 CSS 文件生成 CSSOM Tree
将 Dom Tree 和 CSSOM Tree 结合，生成Render Tree (渲染树)
根据Render Tree渲染绘制，将像素渲染到屏幕上

解释：
DOM 解析和 CSS 解析是两个并行的进程，所以 CSS 加载不会阻塞 DOM 的解析
Render Tree 是依赖于 DOM Tree 和 CSSOM Tree 的，
必须 CSSOM Tree 构建完成，CSS 资源加载完成(或者失败)后，才能开始渲染。
CSS 加载是会阻塞 Dom 的渲染的。 js 可能会操作 Dom 节点和 css 样式，
因此浏览器会维持 html 中 css 和 js 的顺序。样式表会在后面的 js 执行前先加载执行完毕。
所以 css会阻塞后面 js 的执行。
```

</Answer>
